<%= javascript_pack_tag 'profile' %>

<div class="container mx-auto">
  <div class="row">

    <div class="col-sm-12 col-md-10 col-lg-8 bg-white my-3 p-4 shadow-lg mx-auto rounded">
      <h5 class="mb-3">プロフィール編集</h5>
      <%= render "layouts/errors", object: @user %>
      <div class="row">
        <div class="col mx-2">

          <%= form_with model: @user, url: mypage_path do |f| %>

            <div class="profile-image-container">
              <div id="profile-image-preview" class="mt-4">
                <%= image_tag @user.profile_image, class: 'profile-image-preview-img' %>
              </div>
              <label for="user_profile_image" class="profile-image-upload">
                <i class="fa-solid fa-camera" style="color: #ffffff;"></i>
              </label>
              <%= f.file_field :profile_image, accept: "image/*", class: 'file-input' %>
            </div><br>

            <%= f.label :name, "ユーザー名" %>
            <div class="mb-4">
              <%= f.text_field :name, class: "form-control", placeholder: "ユーザー名", id: "edit_name" %>
              <div id="editNameError" class="mt-1" style="display: none; color: red;">ユーザー名を入力してください。</div>
            </div>

            <%= f.label :email, "メールアドレス" %>
            <div class="mb-4">
              <%= f.email_field :email, autocomplete: "email", class: "form-control", placeholder: "メールアドレス", id: "edit_email" %>
              <div id="editEmailError" class="mt-1" style="display: none; color: red;"></div>
            </div>

            <div class="row justify-content-center">
              <%= f.submit "更新", disabled: true, class: "btn btn-warning m-4 disabled", id: "edit_submit" %>
              <%= link_to "退会", confirm_path, class: "btn btn-danger m-4" %>
            </div>
          <% end %>

        </div>
      </div>
    </div>
  </div>
</div>
